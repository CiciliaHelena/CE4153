<!DOCTYPE html>
<html class="has-background-grey-light">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>WSC</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">

    <script type="module">
        import { fetchQuestions } from "./../script.js";
        window.onload = fetchQuestions(0);
    </script>

  </head>
  <body>

  <section class="hero is-dark">

    <div class="hero-head">
      <header class="navbar">
        <div class="container">
          <div class="navbar-brand">
            <a class="navbar-item" href="index.html" style="font-size:2vw">
              <div class="container">
                <h1 class="title">
                  CE4153
                </h1>
                <h2 class="subtitle">
                  Prediction Market
                </h2>
              </div>
            </a>
            <span id="burger" class="navbar-burger burger" data-target="navbarMenuHeroC">
              <span></span>
              <span></span>
              <span></span>
            </span>
          </div>
          <div id="navbarMenuHeroC" class="navbar-menu">
            <div class="navbar-end">
              <a class="navbar-item" href="newMarket.html">
                New Market
              </a>
            </div>
          </div>
        </div>
      </header>
    </div>

    <script type="text/javascript">
      burger.onclick = function() {
          navbarMenuHeroC.classList.toggle("is-active")
      }
    </script>

  </section>

  <section class="section">
    <div class="level">
      <div class="level-item content">
        <h1 style="color:white">Market Posted</h1>
      </div>
    </div>
    <div class="level">
      <div class="tile is-ancestor level-item">
        <div class="tile is-parent is-vertical is-4">
          <div class="field">
            <label class="label">filter:</label>
            <div class="control">
              <div class="select">
                <select id="filter">
                  <option>All</option>
                  <option>Open</option>
                  <option>Close</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="level">
      <div class="tile is-ancestor level-item">
        <div class="tile is-parent is-vertical is-4" id="fetchQuestions">

          <article class="tile is-child box">
            <div class="content">
              <p>
                <strong><a href="question.html?qid=1">question_ID</a></strong>
                <small>resolution date</small>
                <br>
                question
              </p>
            </div>
          </article>

          <article class="tile is-child box">
            <div class="content">
              <p>
                <strong><a href="question.html">question_ID</a></strong>
                <small>resolution date</small>
                <br>
                question
              </p>
            </div>
          </article>

        </div>
      </div>
    </div>
  </section>

  <script type="module">
    import { fetchQuestions } from "./../script.js";
    let input = document.getElementById("filter")
    input.addEventListener('change', () => {
        if(input.value == "Open") {
            // call yg api open
            fetchQuestions(1)
        } else if(input.value == "Close") {
            // call yg api close
            fetchQuestions(2)
        } else {
            // call yg api smua
            fetchQuestions(0)
        }
    })
  </script>

  </body>
</html>
